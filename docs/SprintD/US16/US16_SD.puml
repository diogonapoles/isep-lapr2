@startuml
autonumber
'hide footbox
actor "Coordinator" as CDN

participant ":AnalyzePerformanceUI" as UI
participant ":AnalyzePerformanceController" as CTRL
participant "App" as _APP
participant "app\n:App" as APP
participant "comp\n:Company" as COMP
participant "bruteForce\n:BruteForce" as BF
participant "legacySystemaData\n:LegacySystemData" as STORE
participant "empStore\n:EmployeeStore" as STORE
participant "ts\n:List <Date> legacySystemDateList"

activate CDN
CDN -> UI : asks to analyze vaccination center performance
activate UI
UI -> CTRL : getWorking()
activate CTRL
CTRL -> _APP : app = getInstance()
activate _APP
deactivate _APP
CTRL -> APP : comp = getCompany()
activate APP
deactivate APP
CTRL -> COMP : empStore = getEmployeeStore()
activate COMP
deactivate COMP
deactivate CTRL
UI -> CTRL : findDay()
activate CTRL
CTRL -> COMP : bruteForce = getBruteForce()
activate COMP
deactivate COMP
CTRL -> BF :
activate BF
deactivate BF
deactivate CTRL
|||
UI --> CDN : requests data (timeInterval)
deactivate UI
|||

CDN -> UI : types requested data
activate UI
UI -> CTRL : createInputList()
activate CTRL
CTRL -> _APP : app = getInstance()
activate _APP
deactivate _APP
CTRL -> APP : comp = getCompany()
activate APP
deactivate APP
CTRL -> COMP : csvr = getCSVReader()
activate COMP
deactivate COMP
CTRL -> CSV : rcsvf = readCSVFile(fileLocation)
activate CSV
CSV -> CSV : validateHeader(line)
activate CSV
deactivate CSV
CSV -> CSV : getCompleteHeader()
activate CSV
deactivate CSV
loop line != null
    CSV -> SU **: create(name, sex, birthDate, homeAddress,\nphoneNumber, emailAddress, snsUserNumber,\ncitizenCardNumber)
    CSV -> CSV : saveSNSUser()
    activate CSV
    deactivate CSV

end

deactivate CSV
deactivate CTRL
UI --> CDN : shows data and informs operation success
deactivate UI
|||

@enduml