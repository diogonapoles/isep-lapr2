<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1616px" preserveAspectRatio="none" style="width:2471px;height:1616px;background:#FFFFFF;" version="1.1" viewBox="0 0 2471 1616" width="2471px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1423.3594" style="stroke:#181818;stroke-width:1.0;" width="10" x="44.5" y="92.6094"/><rect fill="#FFFFFF" height="453.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="354.5" y="114.9609"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="354.5" y="598.8281"/><rect fill="#FFFFFF" height="450.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="354.5" y="675.8828"/><rect fill="#FFFFFF" height="358.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="354.5" y="1157.1563"/><rect fill="#FFFFFF" height="392.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="677.5" y="145.3125"/><rect fill="#FFFFFF" height="373.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="677.5" y="722.5859"/><rect fill="#FFFFFF" height="291.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="677.5" y="1187.5078"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="829.5" y="175.6641"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="924.5" y="236.0156"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="924.5" y="296.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1034" y="356.7188"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1135" y="752.9375"/><rect fill="#FFFFFF" height="266.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1246.5" y="829.6406"/><rect fill="#FFFFFF" height="260.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1246.5" y="1217.8594"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1251.5" y="1316.9141"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1251.5" y="1450.6172"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1571" y="1006.1016"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1571" y="1248.2109"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1684" y="417.4219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1684" y="1066.4531"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1684" y="1382.2656"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1821" y="447.7734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1948" y="508.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="49" x2="49" y1="82.6094" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="359" x2="359" y1="82.6094" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="682" x2="682" y1="82.6094" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="834" x2="834" y1="82.6094" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="929" x2="929" y1="82.6094" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1039" x2="1039" y1="82.6094" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1140" x2="1140" y1="82.6094" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1251" x2="1251" y1="82.6094" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1575.5" x2="1575.5" y1="870.9922" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1688.5" x2="1688.5" y1="82.6094" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1826" x2="1826" y1="82.6094" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1953" x2="1953" y1="82.6094" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2099" x2="2099" y1="82.6094" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2241" x2="2241" y1="82.6094" y2="1533.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2387" x2="2387" y1="82.6094" y2="1533.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="5" y="79.5332">Administrator</text><ellipse cx="49.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M49.5,21.5 L49.5,48.5 M36.5,29.5 L62.5,29.5 M49.5,48.5 L36.5,63.5 M49.5,48.5 L62.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="5" y="1547.502">Administrator</text><ellipse cx="49.5" cy="1559.0781" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M49.5,1567.0781 L49.5,1594.0781 M36.5,1575.0781 L62.5,1575.0781 M49.5,1594.0781 L36.5,1609.0781 M49.5,1594.0781 L62.5,1609.0781 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="287" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="294" y="71.5332">:RegisterEmployeeUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="287" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="294" y="1554.502">:RegisterEmployeeUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="195" x="585" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="592" y="71.5332">:RegisterEmployeeController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="195" x="585" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="592" y="1554.502">:RegisterEmployeeController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="793" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="800" y="71.5332">Application</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="793" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="800" y="1554.502">Application</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="886" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="917.5" y="53.9238">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="893" y="71.5332">:Application</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="886" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="917.5" y="1554.502">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="893" y="1572.1113">:Application</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="983" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="990" y="71.5332">comp:Company</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="983" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="990" y="1554.502">comp:Company</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="1105" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1112" y="71.5332">:Platform</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="1105" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1112" y="1554.502">:Platform</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="1185" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="1241" y="53.9238">gre</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1192" y="71.5332">:RegisterEmployee</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="1185" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="1241" y="1554.502">gre</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1192" y="1572.1113">:RegisterEmployee</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="1520.5" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1527.5" y="1554.502">emp: Employee</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="1641.5" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1675" y="53.9238">auth</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1648.5" y="71.5332">:AuthFacade</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="1641.5" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1675" y="1554.502">auth</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1648.5" y="1572.1113">:AuthFacade</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="1771" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1778" y="71.5332">:UserRoleStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="1771" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1778" y="1554.502">:UserRoleStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="1891" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="1898" y="71.5332">:UserRoleMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="1891" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="1898" y="1554.502">:UserRoleMapper</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="2025" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="2064.5" y="53.9238">lRolesDTO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="2032" y="71.5332">: List&lt;UserRoleDTO&gt;</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="2025" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="2064.5" y="1554.502">lRolesDTO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="2032" y="1572.1113">: List&lt;UserRoleDTO&gt;</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="2183" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="2220" y="53.9238">sRoles</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="2190" y="71.5332">: Set&lt;UserRole&gt;</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="2183" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="2220" y="1554.502">sRoles</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="2190" y="1572.1113">: Set&lt;UserRole&gt;</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="2310" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8" x="2383.5" y="53.9238">rl</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="2321" y="71.5332">List&lt;String&gt; RolesList</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="2310" y="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8" x="2383.5" y="1554.502">rl</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="2321" y="1572.1113">List&lt;String&gt; RolesList</text><rect fill="#FFFFFF" height="1423.3594" style="stroke:#181818;stroke-width:1.0;" width="10" x="44.5" y="92.6094"/><rect fill="#FFFFFF" height="453.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="354.5" y="114.9609"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="354.5" y="598.8281"/><rect fill="#FFFFFF" height="450.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="354.5" y="675.8828"/><rect fill="#FFFFFF" height="358.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="354.5" y="1157.1563"/><rect fill="#FFFFFF" height="392.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="677.5" y="145.3125"/><rect fill="#FFFFFF" height="373.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="677.5" y="722.5859"/><rect fill="#FFFFFF" height="291.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="677.5" y="1187.5078"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="829.5" y="175.6641"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="924.5" y="236.0156"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="924.5" y="296.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1034" y="356.7188"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1135" y="752.9375"/><rect fill="#FFFFFF" height="266.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1246.5" y="829.6406"/><rect fill="#FFFFFF" height="260.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1246.5" y="1217.8594"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1251.5" y="1316.9141"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1251.5" y="1450.6172"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1571" y="1006.1016"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1571" y="1248.2109"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1684" y="417.4219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1684" y="1066.4531"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1684" y="1382.2656"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1821" y="447.7734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1948" y="508.125"/><polygon fill="#181818" points="342.5,110.9609,352.5,114.9609,342.5,118.9609,346.5,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="54.5" x2="348.5" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="61.5" y="110.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="72.5" y="110.1045">starts registering a new employee</text><polygon fill="#181818" points="665.5,141.3125,675.5,145.3125,665.5,149.3125,669.5,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="364.5" x2="671.5" y1="145.3125" y2="145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="371.5" y="140.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="382.5" y="140.4561">rl = getRoles()</text><polygon fill="#181818" points="817.5,171.6641,827.5,175.6641,817.5,179.6641,821.5,175.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687.5" x2="823.5" y1="175.6641" y2="175.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="694.5" y="170.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="705.5" y="170.8076">app = getInstance()</text><polygon fill="#181818" points="912.5,232.0156,922.5,236.0156,912.5,240.0156,916.5,236.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687.5" x2="918.5" y1="236.0156" y2="236.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="694.5" y="231.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="705.5" y="231.1592">session = getCurrentSession()</text><polygon fill="#181818" points="912.5,292.3672,922.5,296.3672,912.5,300.3672,916.5,296.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687.5" x2="918.5" y1="296.3672" y2="296.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="694.5" y="291.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="705.5" y="291.5107">comp = getCompany()</text><polygon fill="#181818" points="1022,352.7188,1032,356.7188,1022,360.7188,1026,356.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687.5" x2="1028" y1="356.7188" y2="356.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="694.5" y="351.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="705.5" y="351.8623">plat = getPlatform()</text><polygon fill="#181818" points="1027,383.0703,1037,387.0703,1027,391.0703,1031,387.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687.5" x2="1033" y1="387.0703" y2="387.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="694.5" y="382.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="705.5" y="382.2139">auth = getAuthFacade()</text><polygon fill="#181818" points="1672,413.4219,1682,417.4219,1672,421.4219,1676,417.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687.5" x2="1678" y1="417.4219" y2="417.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="694.5" y="412.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="705.5" y="412.5654">lRolesDTO = getUserRoles()</text><polygon fill="#181818" points="1809,443.7734,1819,447.7734,1809,451.7734,1813,447.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1694" x2="1815" y1="447.7734" y2="447.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1701" y="442.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1712" y="442.917">sRoles = getAll()</text><polygon fill="#181818" points="1936,504.125,1946,508.125,1936,512.125,1940,508.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1694" x2="1942" y1="508.125" y2="508.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1701" y="503.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="1719" y="503.2686">toDTO(sRoles)</text><polygon fill="#181818" points="65.5,564.4766,55.5,568.4766,65.5,572.4766,61.5,568.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59.5" x2="358.5" y1="568.4766" y2="568.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="71.5" y="563.6201">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="89.5" y="563.6201">ask to select the employee role</text><polygon fill="#181818" points="342.5,594.8281,352.5,598.8281,342.5,602.8281,346.5,598.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="54.5" x2="348.5" y1="598.8281" y2="598.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="61.5" y="593.9717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="79.5" y="593.9717">selects the intended role</text><polygon fill="#181818" points="65.5,641.5313,55.5,645.5313,65.5,649.5313,61.5,645.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59.5" x2="358.5" y1="645.5313" y2="645.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="71.5" y="632.499">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="89.5" y="624.3232">request data (name, phoneNumber, address,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="93.5" y="640.6748">emailAddress, citizenCardNumber)</text><polygon fill="#181818" points="342.5,671.8828,352.5,675.8828,342.5,679.8828,346.5,675.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="54.5" x2="348.5" y1="675.8828" y2="675.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="61.5" y="671.0264">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="79.5" y="671.0264">types requested data</text><polygon fill="#181818" points="665.5,718.5859,675.5,722.5859,665.5,726.5859,669.5,722.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="364.5" x2="671.5" y1="722.5859" y2="722.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="371.5" y="709.5537">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="389.5" y="701.3779">createEmployee(name, phoneNumber, address,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="393.5" y="717.7295">emailAddress, citizenCardNumber, role)</text><polygon fill="#181818" points="1123,748.9375,1133,752.9375,1123,756.9375,1127,752.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687.5" x2="1129" y1="752.9375" y2="752.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="694.5" y="748.0811">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="712.5" y="748.0811">gre = getRegisterEmployee()</text><polygon fill="#181818" points="1234.5,825.6406,1244.5,829.6406,1234.5,833.6406,1238.5,829.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687.5" x2="1240.5" y1="829.6406" y2="829.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="694.5" y="816.6084">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="712.5" y="808.4326">emp = createEmployee(name, phoneNumber, address,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="712.5" y="824.7842">emailAddress, citizenCardNumber, role)</text><polygon fill="#181818" points="1508.5,872.3438,1518.5,876.3438,1508.5,880.3438,1512.5,876.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1256.5" x2="1514.5" y1="876.3438" y2="876.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1263.5" y="863.3115">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="1281.5" y="855.1357">create(name, phoneNumber, address,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="1281.5" y="871.4873">emailAddress, citizenCardNumber)</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="1520.5" y="841.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1527.5" y="863.2676">emp: Employee</text><path d="M1426,889.3438 L1426,948.3438 L1726,948.3438 L1726,899.3438 L1716,889.3438 L1426,889.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1716,889.3438 L1716,899.3438 L1726,899.3438 L1716,889.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1432" y="907.8389">emp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="1464" y="907.8389">might be an instance of CenterCoordinator</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="1432" y="924.1904">or Nurse or Receptionist. It depends of the type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="1432" y="940.542">of Employee receiving this message</text><polygon fill="#181818" points="1234.5,971.75,1244.5,975.75,1234.5,979.75,1238.5,975.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687.5" x2="1240.5" y1="975.75" y2="975.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="694.5" y="970.8936">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="712.5" y="970.8936">validateEmployee(emp)</text><polygon fill="#181818" points="1559,1002.1016,1569,1006.1016,1559,1010.1016,1563,1006.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1256.5" x2="1565" y1="1006.1016" y2="1006.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1263.5" y="1001.2451">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1281.5" y="1001.2451">email = getEmailAddress()</text><polygon fill="#181818" points="1672,1062.4531,1682,1066.4531,1672,1070.4531,1676,1066.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1256.5" x2="1678" y1="1066.4531" y2="1066.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1263.5" y="1061.5967">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1281.5" y="1061.5967">uv = existsUser(email)</text><polygon fill="#181818" points="65.5,1122.8047,55.5,1126.8047,65.5,1130.8047,61.5,1126.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59.5" x2="358.5" y1="1126.8047" y2="1126.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="71.5" y="1121.9482">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="89.5" y="1121.9482">shows the data and requests a confirmation</text><polygon fill="#181818" points="342.5,1153.1563,352.5,1157.1563,342.5,1161.1563,346.5,1157.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="54.5" x2="348.5" y1="1157.1563" y2="1157.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="61.5" y="1152.2998">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="79.5" y="1152.2998">confirms the data</text><polygon fill="#181818" points="665.5,1183.5078,675.5,1187.5078,665.5,1191.5078,669.5,1187.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="364.5" x2="671.5" y1="1187.5078" y2="1187.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="371.5" y="1182.6514">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="389.5" y="1182.6514">registerEmployee()</text><polygon fill="#181818" points="1234.5,1213.8594,1244.5,1217.8594,1234.5,1221.8594,1238.5,1217.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687.5" x2="1240.5" y1="1217.8594" y2="1217.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="694.5" y="1213.0029">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="712.5" y="1213.0029">registerEmployee(emp)</text><polygon fill="#181818" points="1559,1244.2109,1569,1248.2109,1559,1252.2109,1563,1248.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1256.5" x2="1565" y1="1248.2109" y2="1248.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1263.5" y="1243.3545">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1281.5" y="1243.3545">email = getEmailAddress()</text><polygon fill="#181818" points="1564,1274.5625,1574,1278.5625,1564,1282.5625,1568,1278.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1256.5" x2="1570" y1="1278.5625" y2="1278.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1263.5" y="1273.7061">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1281.5" y="1273.7061">name = getName()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1261.5" x2="1303.5" y1="1308.9141" y2="1308.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1303.5" x2="1303.5" y1="1308.9141" y2="1321.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1262.5" x2="1303.5" y1="1321.9141" y2="1321.9141"/><polygon fill="#181818" points="1272.5,1317.9141,1262.5,1321.9141,1272.5,1325.9141,1268.5,1321.9141" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1268.5" y="1304.0576">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="1286.5" y="1304.0576">pwd = passwordGenerator(name,email)</text><polygon fill="#181818" points="1672,1378.2656,1682,1382.2656,1672,1386.2656,1676,1382.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1256.5" x2="1678" y1="1382.2656" y2="1382.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1263.5" y="1377.4092">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="1281.5" y="1377.4092">addu = addUserWithRole(name, email, pwd, role)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1261.5" x2="1303.5" y1="1442.6172" y2="1442.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1303.5" x2="1303.5" y1="1442.6172" y2="1455.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1262.5" x2="1303.5" y1="1455.6172" y2="1455.6172"/><polygon fill="#181818" points="1272.5,1451.6172,1262.5,1455.6172,1272.5,1459.6172,1268.5,1455.6172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1268.5" y="1437.7607">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="1286.5" y="1437.7607">addEmployee(emp)</text><polygon fill="#181818" points="60.5,1511.9688,50.5,1515.9688,60.5,1519.9688,56.5,1515.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54.5" x2="358.5" y1="1515.9688" y2="1515.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="66.5" y="1511.1123">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="84.5" y="1511.1123">informs operation success</text><!--MD5=[b872e9f1f5912a262a2d485fa5424fb6]
@startuml
autonumber
actor "Administrator" as ADM


participant ":RegisterEmployeeUI" as UI
participant ":RegisterEmployeeController" as CTRL
participant "Application" as APP
participant "app\n:Application" as App
participant "comp:Company" as COMP
participant ":Platform" as PLAT
participant "gre\n:RegisterEmployee" as RE
participant "emp: Employee" as EMP
participant "auth\n:AuthFacade" as AF
participant ":UserRoleStore" as URS
participant ":UserRoleMapper" as URM
participant "lRolesDTO\n: List<UserRoleDTO>" as lRDTO
participant "sRoles\n: Set<UserRole>" as SR
participant "rl\n List<String> RolesList" as rl


activate ADM

ADM -> UI : starts registering a new employee
activate UI

UI -> CTRL : rl = getRoles()
activate CTRL

CTRL -> APP : app = getInstance()
activate APP
deactivate APP

CTRL -> App: session = getCurrentSession()
activate App
deactivate App

CTRL -> App : comp = getCompany()
activate App
deactivate App


CTRL -> COMP : plat = getPlatform()
activate COMP

CTRL -> COMP: auth = getAuthFacade()
deactivate COMP

CTRL -> AF : lRolesDTO = getUserRoles()
activate AF

AF -> URS : sRoles = getAll()
activate URS
deactivate URS

AF -> URM :  toDTO(sRoles)
activate URM

deactivate URM
deactivate AF
deactivate CTRL

UI - -> ADM : ask to select the employee role
deactivate UI



ADM -> UI : selects the intended role
activate UI

UI - -> ADM : request data (name, phoneNumber, address,\n emailAddress, citizenCardNumber)
deactivate UI




ADM -> UI : types requested data
activate UI

UI -> CTRL :createEmployee(name, phoneNumber, address,\n emailAddress, citizenCardNumber, role)
activate CTRL

CTRL -> PLAT : gre = getRegisterEmployee()
activate PLAT
deactivate PLAT

CTRL -> RE : emp = createEmployee(name, phoneNumber, address,\nemailAddress, citizenCardNumber, role)
activate RE

RE - -> EMP** : create(name, phoneNumber, address, \nemailAddress, citizenCardNumber)

note over EMP : **emp** might be an instance of CenterCoordinator \nor Nurse or Receptionist. It depends of the type \nof Employee receiving this message


CTRL -> RE : validateEmployee(emp)

RE -> EMP : email = getEmailAddress()
activate EMP
deactivate EMP

RE -> AF : uv = existsUser(email)
activate AF
deactivate AF
deactivate CTRL
deactivate RE

UI - -> ADM : shows the data and requests a confirmation
deactivate UI



ADM -> UI : confirms the data
activate UI

UI -> CTRL : registerEmployee()
activate CTRL

CTRL -> RE: registerEmployee(emp)
activate RE

RE -> EMP : email = getEmailAddress()
activate EMP

RE -> EMP : name = getName()

deactivate EMP

RE -> RE : pwd = passwordGenerator(name,email)
activate RE
deactivate RE

RE -> AF : addu = addUserWithRole(name, email, pwd, role)
activate AF
deactivate AF

RE -> RE : addEmployee(emp)
activate RE
deactivate RE
deactivate RE
deactivate CTRL

UI - -> ADM : informs operation success
deactivate UI


deactivate ADM

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>